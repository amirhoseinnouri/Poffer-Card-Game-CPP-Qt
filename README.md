Poffer-Card-Game-CPP-Qt

---
مقدمه
این پروژه پیاده‌سازی کامل بازی کارتی Poffer است که به صورت یک سیستم کلاینت-سرور با استفاده از زبان برنامه‌نویسی C++ و فریم‌ورک قدرتمند Qt توسعه یافته است. هدف این پروژه، ارائه یک تجربه بازی دو نفره آنلاین است که در آن منطق اصلی بازی، مدیریت کاربران، و ذخیره‌سازی تاریخچه بازی‌ها توسط سرور انجام شده و کلاینت‌ها رابط کاربری و تعامل با بازیکن را فراهم می‌کنند.

ویژگی‌ها
معماری کلاینت-سرور:

سرور: مسئول مدیریت اتصالات، احراز هویت (ورود و ثبت‌نام)، مدیریت جلسات بازی، اعمال قوانین بازی، محاسبه امتیازات، تعیین برنده و بازنده، و ذخیره تاریخچه بازی‌ها.

کلاینت: ارائه رابط کاربری گرافیکی (GUI) برای بازیکنان، ارسال درخواست‌ها به سرور و دریافت به‌روزرسانی‌های بازی.

سیستم احراز هویت:

ثبت‌نام (Sign Up): کاربران می‌توانند با وارد کردن نام کاربری، رمز عبور (هش شده)، اطلاعات شخصی (نام، نام خانوادگی، شماره تلفن، ایمیل) ثبت‌نام کنند.

ورود (Login): کاربران موجود می‌توانند با نام کاربری و رمز عبور وارد حساب کاربری خود شوند.

ویرایش پروفایل: امکان ویرایش اطلاعات کاربری (شامل نام کاربری و رمز عبور) وجود دارد.

مدیریت بازی:

شروع بازی: بازیکنان می‌توانند درخواست شروع بازی دهند. سرور پس از یافتن حریف، بازی را آغاز می‌کند.

منطق بازی Poffer: پیاده‌سازی کامل قوانین بازی Poffer شامل:

بر زدن (Shuffle) کارت‌ها و تقسیم آن‌ها.

تعیین بازیکن شروع‌کننده هر دور با کارت الماس.

مراحل انتخاب کارت (انتخاب ۱ کارت از ۷ کارت، پاس دادن ۶ کارت باقی‌مانده و انتخاب ۱ کارت از آن).

۵ دور انتخاب کارت در هر راند.

ارزیابی دست ۵ کارتی بازیکنان بر اساس الگوهای Poffer (Golden Hand, Order Hand, etc.).

قوانین دقیق شکستن تساوی بر اساس ارزش کارت‌ها و درجه دسته‌ها (الماس > طلا > دلار > سکه).

بازی در ۳ راند انجام می‌شود و بازیکنی که ۲ راند را ببرد، برنده نهایی است.

تاریخچه بازی‌ها:

سرور تاریخچه ۳ بازی آخر هر کاربر را ذخیره می‌کند و کلاینت می‌تواند آن را مشاهده کند.

مدیریت قطع ارتباط و عدم فعالیت:

سیستم مدیریت زمان برای قطع ارتباط بازیکنان و عدم فعالیت در انتخاب کارت.

خروج از حساب کاربری: امکان خروج کامل از حساب کاربری.

ساختار پروژه
پروژه به چندین فایل C++ تقسیم شده است که هر کدام وظیفه خاصی را بر عهده دارند:

server.h / server.cpp: پیاده‌سازی منطق اصلی سرور، مدیریت اتصالات، احراز هویت، و هماهنگی جلسات بازی.

gamesession.h / gamesession.cpp: پیاده‌سازی منطق یک جلسه بازی (یک بازی بین دو بازیکن)، شامل مدیریت دورها، تقسیم کارت‌ها، و پردازش انتخاب کارت بازیکنان.

deck.h / deck.cpp: کلاس مربوط به دسته کارت‌ها، شامل بر زدن و تقسیم کارت‌ها.

card.h / card.cpp: کلاس مربوط به یک کارت واحد، شامل رتبه (Rank) و دسته (Suit).

HandName.h: تعریف enum یا کلاس برای انواع الگوهای دست در بازی Poffer.

handevaluator.h / handevaluator.cpp: کلاس مسئول ارزیابی دست ۵ کارتی بازیکنان و تعیین الگوی دست آن‌ها، همچنین پیاده‌سازی قوانین شکستن تساوی.

main.cpp (سرور): فایل اصلی برای اجرای برنامه سرور.

main.cpp (کلاینت): فایل اصلی برای اجرای برنامه کلاینت (شامل رابط کاربری).

نحوه راه‌اندازی و اجرا
برای اجرای این پروژه، نیاز به محیط توسعه Qt (ترجیحاً Qt Creator) و یک کامپایلر C++ (مانند MinGW، MSVC یا GCC) دارید.

۱. راه‌اندازی سرور
ابتدا باید برنامه سرور را اجرا کنید. این برنامه یک آدرس IP و پورت را نمایش می‌دهد که کلاینت‌ها برای اتصال به آن نیاز دارند.

کامپایل پروژه سرور: پروژه سرور را در Qt Creator باز کرده و کامپایل کنید.

اجرای سرور از ترمینال:

فایل اجرایی سرور (مثلاً server.exe در ویندوز یا server در لینوکس) را در ترمینال یا خط فرمان اجرا کنید.

پس از اجرا، سرور آدرس IP و پورت خود را در کنسول نمایش می‌دهد. به عنوان مثال:

Server is listening on IP 192.168.1.100 Port: 12345

این IP و پورت را یادداشت کنید.

۲. راه‌اندازی کلاینت‌ها
پس از اجرای سرور، می‌توانید برنامه‌های کلاینت را اجرا کنید. برای تست بازی دو نفره، نیاز به اجرای دو نمونه مجزا از برنامه کلاینت دارید.

کامپایل پروژه کلاینت: پروژه کلاینت را در Qt Creator باز کرده و کامپایل کنید.

اجرای کلاینت:

فایل اجرایی کلاینت را در دو سیستم مجزا (یا دو بار روی یک سیستم) اجرا کنید.

در صفحه اتصال کلاینت، آدرس IP و پورت که سرور نمایش داده بود را وارد کرده و به سرور متصل شوید.

۳. ورود به بازی
پس از اتصال به سرور، کلاینت‌ها باید وارد حساب کاربری شوند.

برای اتصال اولیه و تست:

می‌توانید از نام کاربری پیش‌فرض admintest و رمز عبور admin1380 استفاده کنید.

یا:

فایل users.json که در کنار فایل اجرایی سرور ایجاد می‌شود را باز کنید.

می‌توانید اطلاعات کاربران موجود را مشاهده کنید یا حتی کاربران جدیدی را به صورت دستی اضافه کنید (برای تست).

همچنین می‌توانید از طریق رابط کاربری کلاینت، یک حساب کاربری جدید ثبت‌نام کنید.

۴. شروع و انجام بازی
پس از ورود موفقیت‌آمیز، هر دو کلاینت باید گزینه "شروع بازی" (Start Game) را انتخاب کنند.

سرور پس از دریافت درخواست از دو بازیکن، به صورت خودکار یک جلسه بازی جدید را آغاز کرده و هر دو کلاینت را به صفحه بازی منتقل می‌کند.

بازی طبق قوانین Poffer (که در PDF پروژه توضیح داده شده) پیش می‌رود.

قوانین بازی Poffer (خلاصه)
کارت‌ها: ۵۲ کارت در ۴ دسته (الماس، طلا، دلار، سکه)، هر دسته شامل ۱۳ کارت (بیت‌کوین، شاه، بی‌بی، سرباز، ۱۰ تا ۲).

هدف: ساخت بهترین ترکیب ۵ کارتی از الگوهای Poffer.

جریان بازی:

هر دور با تعیین شروع‌کننده (با کارت الماس) آغاز می‌شود.

بازیکن شروع‌کننده ۷ کارت می‌گیرد، ۱ کارت را انتخاب می‌کند و ۶ کارت باقی‌مانده را به حریف می‌دهد.

حریف از ۶ کارت باقی‌مانده ۱ کارت انتخاب می‌کند.

این فرآیند ۵ بار در هر دور تکرار می‌شود و در پایان هر بازیکن ۵ کارت در دست دارد.

ترتیب گرفتن ۷ کارت در هر بار بین بازیکنان جابجا می‌شود تا بازی منصفانه باشد.

الگوهای دست (Rank): ۱۰ الگوی مختلف از قوی‌ترین (Golden Hand) تا ضعیف‌ترین (Messy Hand) وجود دارد.

شکستن تساوی: در صورت داشتن الگوهای مشابه، ارزش کارت‌ها و سپس درجه دسته‌ها (الماس > طلا > دلار > سکه) برای تعیین برنده استفاده می‌شود.

پایان بازی: بازی ۳ دور طول می‌کشد. بازیکنی که ۲ دور را ببرد، برنده نهایی بازی است.

برای جزئیات کامل قوانین بازی و الگوهای دست، لطفاً به فایل Poffer Card Game-IUT.pdf مراجعه کنید.

مشارکت
این پروژه به صورت گروهی انجام شده است. مشارکت فعال هر دو عضو گروه در ریپازیتوری الزامی است.
